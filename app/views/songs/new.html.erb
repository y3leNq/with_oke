<%= render "shared/modal" do %>
  <div class="container">
    <div class="row">
      <div class="col-10 offset-1">
        <%= bootstrap_form_with(model: @song, data: { action: "turbo:submit-end->modal#close" }) do |f| %>
          <div class="mt-3">
            <%= f.text_field :artist, placeholder: (t 'defaults.placeholder_artist'), label_class: "text-border fs-5" %>
          </div>
          <div class="mt-3">
            <%= f.text_field :title, placeholder: (t 'defaults.placeholder_title'), label_class: "text-border fs-5" %>
          </div>
          <div class="mt-3 col-md-4">
            <%= f.select :key, options_for_select((-6..6).map { |n| [n == 0? '原キー' : (n > 0 ? "+#{n}" : n), n] }, selected: 0), { label_class: "text-border fs-5" } %>
          </div>
          <div class="mt-3">
            <%= f.select :playlist_id, current_user.playlists.map { |n| [n.name, n.id] }, { include_blank: (t 'defaults.select_playlist'), label_class: "text-border fs-5" }, required: true %>
            <div class="d-flex justify-content-end">
              <%= link_to (t 'defaults.new_playlist'), playlists_path, data: { turbo_frame: "_top"}, class: "custom-link fs-5" %>
            </div>
          </div>
          <%= f.hidden_field :preview_url, value: @song.preview_url %>
          <div class="text-center mt-4 mb-2">
            <%= f.submit 'OK', class: 'btn btn-primary actions', data: { turbo_frame: "_top"} %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
<% end %>
